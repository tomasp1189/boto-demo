(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c7660ba"],{"2dad":function(e,t,a){"use strict";var n=a("7a23");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t,a){var c=Object(n["toRefs"])(e),r=c.disabled,i=a.checked,u=Object(n["computed"])((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label"},c.classes.value)}));return{classList:Object(n["computed"])((function(){return{container:u.value.container,toggle:[u.value.toggle,r.value?i.value?u.value.toggleOnDisabled:u.value.toggleOffDisabled:i.value?u.value.toggleOn:u.value.toggleOff],handle:[u.value.handle,r.value?i.value?u.value.handleOnDisabled:u.value.handleOffDisabled:i.value?u.value.handleOn:u.value.handleOff],label:u.value.label}}))}}var r={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1}},setup(e,t){const a=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.value,c=o.modelValue,r=o.falseValue,i=o.trueValue,u=o.disabled,s=void 0!==t.expose?c:l,d=Object(n["computed"])((function(){return s.value===i.value})),b=function(e){t.emit("input",e),t.emit("update:modelValue",e),t.emit("change",e)},p=function(){b(i.value)},v=function(){b(r.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(s.value)&&-1===[r.value,i.value].indexOf(s.value)&&v(),-1!==[!0,1,"1","on"].indexOf(s.value)&&-1===[r.value,i.value].indexOf(s.value)&&p(),{externalValue:s,checked:d,update:b,check:p,uncheck:v,handleInput:function(e){b(e.target.checked?i.value:r.value)},handleClick:function(){u.value||(d.value?v():p())}}}(e,t),o=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.trueValue,c=o.falseValue,r=o.onLabel,i=o.offLabel,u=a.checked,s=a.update;return{label:Object(n["computed"])((function(){var e=u.value?r.value:i.value;return e||(e="&nbsp;"),e})),toggle:function(){s(u.value?c.value:l.value)},on:function(){s(l.value)},off:function(){s(c.value)}}}(e,0,{checked:a.checked,update:a.update}),l=c(e,0,{checked:a.checked}),r=function(e,t,a){var o=Object(n["toRefs"])(e).disabled,l=a.check,c=a.uncheck,r=a.checked;return{handleSpace:function(){o.value||(r.value?c():l())}}}(e,0,{check:a.check,uncheck:a.uncheck,checked:a.checked});return{...a,...l,...o,...r}},render:function(e,t,a,o,l,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:e.classList.container,tabindex:a.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":a.describedby,"aria-labelledby":a.labelledby,role:"switch",onKeyup:t[2]||(t[2]=Object(n["withKeys"])((...t)=>e.handleSpace&&e.handleSpace(...t),["space"]))},[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"checkbox",id:a.id,name:a.name,value:a.trueValue,checked:e.checked,disabled:a.disabled},null,8,["id","name","value","checked","disabled"]),[[n["vShow"],!1]]),Object(n["createVNode"])("div",{class:e.classList.toggle,onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},[Object(n["createVNode"])("span",{class:e.classList.handle},null,2),Object(n["renderSlot"])(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[Object(n["createVNode"])("span",{class:e.classList.label,innerHTML:e.label},null,10,["innerHTML"])]),a.required?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,["checked"])):Object(n["createCommentVNode"])("v-if",!0)],2)],42,["tabindex","aria-checked","aria-describedby","aria-labelledby"])},__file:"src/Toggle.vue"};t["a"]=r},"3b5b":function(e,t,a){"use strict";a("5508")},"514a":function(e,t,a){},5508:function(e,t,a){},"669b":function(e,t,a){},"6f2f":function(e,t,a){},"9ba2":function(e,t,a){},adf6:function(e,t,a){},cda1:function(e,t,a){},d02e:function(e,t,a){"use strict";a("669b")},d293:function(e,t,a){"use strict";a("adf6")},d300:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o={class:"boto-toolbar"},l={class:"row"},c={class:"col text-start"},r={key:0},i={class:"ml-3 mt-4 pt-1 text-primary"},u={key:1},s={class:"row h2"},d={class:"col-10 mt-n1"},b=["placeholder"],p={class:"col-2 pt-2"},v={class:"col"},f={class:"col mt-4"},m={class:"float-start"},O={for:"botFrequency",class:"col-form-label"},h={key:0,class:"ml-2 text-primary"},g=["data-tooltip"],j=Object(n["createElementVNode"])("span",null,[Object(n["createElementVNode"])("i",{class:"fas fa-info-circle"})],-1),y=[j],k={key:1,class:"ml-2 text-primary"},D={key:0,class:"float-start ml-2 mt-n1"},B={key:1,class:"float-start col-3 ml-1 mt-n1"},C={key:0,class:"col text-end mt-3 me-4"},N={key:0,class:"text-success mr-2"},V={key:1,class:"text-danger mr-2"},E=Object(n["createElementVNode"])("i",{class:"fas fa-eraser"},null,-1),S=["disabled"],w={key:0},F={key:1},L={key:2},T={key:3,class:"fas fa-check"},x={key:4,class:"fas fa-circle-notch fa-spin"},A={key:5,class:"fas fa-exclamation-circle"},q={class:"row"},P={class:"col editor-container",ref:"editorContainer"},_={class:"ml-2 mt-2 text-start"},$={class:"row"},I={class:"col"},R={class:"row"},M={key:0,class:"col text-start mt-2 pt-2 text-muted"},H=Object(n["createElementVNode"])("i",{class:"far fa-lightbulb"},null,-1),U={class:"col mt-2 pt-2"},K={key:0,class:"text-end text-warning"},G=Object(n["createElementVNode"])("i",{class:"fas fa-exclamation-triangle"},null,-1),z={class:"row blocks-menu-container-header"},J={class:"col text-start"},W={key:0,class:"col text-end"};function Y(e,t){var a=this,j=Object(n["resolveComponent"])("vue-number-input"),Y=Object(n["resolveComponent"])("Multiselect"),Z=Object(n["resolveComponent"])("Toggle"),Q=Object(n["resolveComponent"])("loading"),X=Object(n["resolveComponent"])("draw-flow"),ee=Object(n["resolveComponent"])("blocks-menu"),te=Object(n["resolveComponent"])("admin-layout");return Object(n["openBlock"])(),Object(n["createBlock"])(te,null,{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",c,[e.isEditingName?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("h3",i,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.botName)+" ",1),Object(n["createElementVNode"])("i",{onClick:t[0]||(t[0]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.editBotName&&e.editBotName.apply(e,t)}),class:"cursor-pointer text-muted fas fa-pencil-alt"})])])),e.isEditingName?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",u,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("span",{id:"botNameHelp",class:Object(n["normalizeClass"])([e.v$.botName.$invalid?"form-text text-warning":"form-text","ml-3 mt-n1"])},Object(n["toDisplayString"])(e.$t("editor.name_help")),3)]),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",d,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{onKeyup:t[1]||(t[1]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.validationStatusCheck&&e.validationStatusCheck.apply(e,t)}),class:Object(n["normalizeClass"])([e.v$.botName.$invalid?"border-warning":"","form-control form-control-no-border ml-3 float-left form-big-text"]),type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.botName=t}),placeholder:e.$t("editor.name_placeholder"),id:"botName","aria-describedby":"botNameHelp"},null,42,b),[[n["vModelText"],e.botName]])]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("i",{onClick:t[3]||(t[3]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.savePreSaveBotName&&e.savePreSaveBotName.apply(e,t)}),class:Object(n["normalizeClass"])(["fas fa-check mr-2 cursor-pointer",e.botNameValidation?"text-primary":"text-muted"])},null,2),Object(n["createElementVNode"])("i",{onClick:t[4]||(t[4]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.cancelPreSaveBotName&&e.cancelPreSaveBotName.apply(e,t)}),class:"fas fa-times text-danger cursor-pointer"})])])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("label",O,Object(n["toDisplayString"])(e.$t("editor.when"))+": ",1),"ADH"===e.triggerType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",h,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("editor.event_driven"))+" ",1),Object(n["createElementVNode"])("span",{class:"nav-item","data-tooltip":e.$t("editor.schedule_help")},y,8,g)])):Object(n["createCommentVNode"])("",!0),"SCH"===e.triggerType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",k,Object(n["toDisplayString"])(e.$t("editor.periodic")),1)):Object(n["createCommentVNode"])("",!0)]),"SCH"===e.triggerType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",D,[Object(n["createVNode"])(j,{attrs:{id:"botFrequency",tabindex:-1},"model-value":e.botFrequency,"onUpdate:modelValue":e.onFrequencyChange,min:1,size:"small",inputtable:!0,inline:"",controls:""},null,8,["model-value","onUpdate:modelValue"])])):Object(n["createCommentVNode"])("",!0),"SCH"===e.triggerType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",B,[Object(n["createVNode"])(Y,{onChange:e.frequencyUnitChange,canDeselect:!1,required:!0,label:"label",canClear:!1,modelValue:e.botFrequencyUnit,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.botFrequencyUnit=t}),options:e.scheduleOptions},null,8,["onChange","modelValue","options"])])):Object(n["createCommentVNode"])("",!0)])]),e.isLoading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",C,[e.saveSuccess?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",N,Object(n["toDisplayString"])(e.$t("editor.saved")),1)):Object(n["createCommentVNode"])("",!0),e.saveError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",V,Object(n["toDisplayString"])(e.saveErrorText),1)):Object(n["createCommentVNode"])("",!0),e.bot&&e.bot.id?(Object(n["openBlock"])(),Object(n["createBlock"])(Z,{key:2,offLabel:"Off",onLabel:"On",onClick:t[6]||(t[6]=function(t){return e.activateDeactivateBoto()}),class:"mr-3","true-value":"ON","false-value":"OFF",modelValue:e.bot.status,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.bot.status=t})},null,8,["modelValue"])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("button",{onClick:t[8]||(t[8]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.clearBot&&e.clearBot.apply(e,t)}),type:"button",class:"boto-button large muted mr-2"},[E,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("editor.clear")),1)]),Object(n["createElementVNode"])("button",{onClick:t[9]||(t[9]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.saveBot&&e.saveBot.apply(e,t)}),type:"button",class:Object(n["normalizeClass"])(["boto-button large",e.isFlowValid?"primary-btn":"btn-secondary"]),disabled:!e.isFlowValid},[a.bot?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",w,Object(n["toDisplayString"])(e.$t("editor.create")),1)),a.bot&&!e.usesTemplate?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",F,Object(n["toDisplayString"])(e.$t("editor.update")),1)):Object(n["createCommentVNode"])("",!0),a.bot&&e.usesTemplate?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",L,Object(n["toDisplayString"])(e.$t("editor.create")),1)):Object(n["createCommentVNode"])("",!0),e.saveSuccess?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",T)):Object(n["createCommentVNode"])("",!0),e.saveLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",x)):Object(n["createCommentVNode"])("",!0),e.saveError?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",A)):Object(n["createCommentVNode"])("",!0)],10,S)]))])]),Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",P,[Object(n["createVNode"])(Q,{active:e.isLoading,"can-cancel":!1,color:"#66B861","is-full-page":e.fullPage},null,8,["active","is-full-page"]),Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("div",I,[e.authToken&&e.blocks&&!e.isLoading?(Object(n["openBlock"])(),Object(n["createBlock"])(X,{key:e.dfKey,showZoom:!0,bot:e.bot,editorId:"botoEditor",usesTemplate:e.usesTemplate,authToken:e.authToken,blocks:e.blocks,ref:"drawflowEditor"},null,8,["bot","usesTemplate","authToken","blocks"])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",R,[e.isLoading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",M,[H,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("editor.tip")),1)])),Object(n["createElementVNode"])("div",U,[e.isFlowValid?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",K,[G,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("editor.validation_error")),1)]))])])])])])],512),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["col-3 col-xxl-2 editor-right",e.toolsCollapsed?"tools-collapsed":"tools-expanded"])},[Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("div",J,[Object(n["createElementVNode"])("a",{onClick:t[10]||(t[10]=function(t){return e.toggleTools()}),class:Object(n["normalizeClass"])(["fas","fa-chevron-"+(e.toolsCollapsed?"left":"right")])},null,2)]),e.toolsCollapsed?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",W,Object(n["toDisplayString"])(e.$t("editor.toolbox")),1))]),Object(n["createElementVNode"])("div",null,[(Object(n["openBlock"])(),Object(n["createBlock"])(ee,{key:e.dfKey+"-blocks-menu",show:!e.toolsCollapsed,blocks:e.blocks},null,8,["show","blocks"]))])],2)])])]})),_:1})}var Z=a("9ab4"),Q=a("687e"),X=a("96cd"),ee=a("8a14"),te={class:"mt-2 text-muted text-start"},ae={class:"input-group"},ne={class:"ks-cboxtags mt-1"},oe={class:"mr-2"},le=Object(n["createElementVNode"])("i",{class:"fab fa-discord"},null,-1),ce=[le],re={class:"mr-2"},ie=Object(n["createElementVNode"])("i",{class:"boto-icon-opensea"},null,-1),ue=[ie],se={class:"mr-2"},de=Object(n["createElementVNode"])("i",{class:"fab fa-telegram-plane"},null,-1),be=[de],pe={class:"mr-2"},ve=Object(n["createElementVNode"])("i",{class:"fab fa-ethereum"},null,-1),fe=[ve],me={class:"mr-2"},Oe=Object(n["createElementVNode"])("i",{class:"fas fa-envelope"},null,-1),he=[Oe],ge={class:"mr-2"},je=Object(n["createElementVNode"])("i",{class:"fa fa-times"},null,-1),ye=[je],ke=Object(n["createElementVNode"])("hr",null,null,-1),De={class:"nav nav-pills h6"},Be=["data-tooltip"],Ce={key:0},Ne=Object(n["createTextVNode"])(),Ve={key:1},Ee=["data-tooltip"],Se=["data-tooltip"],we=["data-tooltip"],Fe=Object(n["createElementVNode"])("hr",{style:{"background-color":"#bfc9c2"}},null,-1),Le={class:"blocks-menu-blocks"},Te={key:0,class:"p-1"},xe={key:1,class:"text-muted p-3"},Ae={key:2,class:"px-1"};function qe(e,t){var a=Object(n["resolveComponent"])("menu-block-place-holder"),o=Object(n["resolveComponent"])("menu-block");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["blocks-menu-container text-start",e.show?"d-block":"d-none"])},[Object(n["createElementVNode"])("div",te,Object(n["toDisplayString"])(e.$t("blocks_menu.title")),1),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",ae,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",onKeyup:t[0]||(t[0]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.searchBlock&&e.searchBlock.apply(e,t)}),class:"mt-1 form-control mr-2",placeholder:"opensea, nft...","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchKey=t})},null,544),[[n["vModelText"],e.searchKey]])]),Object(n["createElementVNode"])("ul",ne,[Object(n["createElementVNode"])("li",oe,[Object(n["createElementVNode"])("a",{onClick:t[2]||(t[2]=function(t){return e.setSearchKey("discord")}),class:"text-muted"},ce)]),Object(n["createElementVNode"])("li",re,[Object(n["createElementVNode"])("a",{onClick:t[3]||(t[3]=function(t){return e.setSearchKey("opensea")}),class:"text-muted"},ue)]),Object(n["createElementVNode"])("li",se,[Object(n["createElementVNode"])("a",{onClick:t[4]||(t[4]=function(t){return e.setSearchKey("telegram")}),class:"text-muted"},be)]),Object(n["createElementVNode"])("li",pe,[Object(n["createElementVNode"])("a",{onClick:t[5]||(t[5]=function(t){return e.setSearchKey("eth")}),class:"text-muted"},fe)]),Object(n["createElementVNode"])("li",me,[Object(n["createElementVNode"])("a",{onClick:t[6]||(t[6]=function(t){return e.setSearchKey("email")}),class:"text-muted"},he)]),Object(n["createElementVNode"])("li",ge,[Object(n["createElementVNode"])("a",{onClick:t[7]||(t[7]=function(t){return e.setSearchKey("")}),class:"text-muted"},ye)])])]),ke,Object(n["createElementVNode"])("ul",De,[Object(n["createElementVNode"])("li",{class:"nav-item","data-tooltip":e.$t("blocks_menu.types.triggers.title")},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["nav-link trigger","TRG"===e.filter?"active":""]),onClick:t[8]||(t[8]=function(t){return e.addFilter("TRG")}),href:"#"},[e.sideBarCollapsed?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Ce,Object(n["toDisplayString"])(e.$t("blocks_menu.types.triggers.abbr")),1)):Object(n["createCommentVNode"])("",!0),Ne,e.sideBarCollapsed?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Ve,"Trig.")),Object(n["createTextVNode"])(" ("+Object(n["toDisplayString"])(e.numberOfType("TRG"))+")",1)],2)],8,Be),Object(n["createElementVNode"])("li",{class:"nav-item","data-tooltip":e.$t("blocks_menu.types.data.title")},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["nav-link logic","LOG"===e.filter?"active":""]),onClick:t[9]||(t[9]=function(t){return e.addFilter("LOG")}),href:"#"},Object(n["toDisplayString"])(e.$t("blocks_menu.types.data.abbr"))+" ("+Object(n["toDisplayString"])(e.numberOfType("LOG"))+")",3)],8,Ee),Object(n["createElementVNode"])("li",{class:"nav-item","data-tooltip":e.$t("blocks_menu.types.logic.title")},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["nav-link operation","OPR"===e.filter?"active":""]),onClick:t[10]||(t[10]=function(t){return e.addFilter("OPR")}),href:"#"},Object(n["toDisplayString"])(e.$t("blocks_menu.types.logic.abbr"))+" ("+Object(n["toDisplayString"])(e.numberOfType("OPR"))+")",3)],8,Se),Object(n["createElementVNode"])("li",{class:"nav-item mr-2","data-tooltip":e.$t("blocks_menu.types.actions.title")},[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["nav-link action","ACT"===e.filter?"active":""]),onClick:t[11]||(t[11]=function(t){return e.addFilter("ACT")}),href:"#"},[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("blocks_menu.types.actions.abbr"))+" ("+Object(n["toDisplayString"])(e.numberOfType("ACT"))+")",1)],2)],8,we)]),Fe,Object(n["createElementVNode"])("div",Le,[e.isLoadingData?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Te,[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(12,(function(e){return Object(n["createVNode"])(a)})),64))])):Object(n["createCommentVNode"])("",!0),e.processedItems&&0===e.processedItems.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",xe,Object(n["toDisplayString"])(e.$t("blocks_menu.no_blocks"))+".",1)):Object(n["createCommentVNode"])("",!0),e.isLoadingData?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",Ae,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.processedItems,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",null,[Object(n["createVNode"])(o,{id:e.id,data:e},null,8,["id","data"])])})),256))]))])],2)}var Pe=["data-node","data-data"],_e={class:"row"},$e={class:"row h-100 d-table"},Ie=Object(n["createElementVNode"])("div",{class:"col-1 h3 menu-block-grip-container"},[Object(n["createElementVNode"])("i",{class:"fas fa-grip-vertical menu-block-grip"})],-1),Re={class:"col"},Me={class:"clearfix"},He={class:"text-block-name"},Ue={key:0,class:"menu-block-info"},Ke=["href"],Ge=Object(n["createElementVNode"])("i",{class:"fas fa-info"},null,-1),ze=[Ge],Je={class:"text-secondary"},We={class:"h4 text-white text-center col-2",style:{"justify-content":"center","text-align":"center",display:"flex","align-items":"center"}};function Ye(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["drag-drawflow","menu-block-"+e.data.block_type.toLowerCase()]),draggable:"true",onDragstart:t[0]||(t[0]=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.drag&&e.drag.apply(e,t)}),"data-node":e.id,"data-data":e.data},[Object(n["createElementVNode"])("div",_e,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["col-9 pt-2 menu-block-details","menu-block-details-"+e.data.block_type.toLowerCase()])},[Object(n["createElementVNode"])("div",$e,[Ie,Object(n["createElementVNode"])("div",Re,[Object(n["createElementVNode"])("div",Me,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(e.data.info_url?"menu-block-title":"")},[Object(n["createElementVNode"])("h4",He,Object(n["toDisplayString"])(e.data.name),1)],2),e.data.info_url?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ue,[Object(n["createElementVNode"])("a",{href:e.data.info_url,target:"_blank",title:"More info"},ze,8,Ke)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("p",Je,Object(n["toDisplayString"])(e.data.description),1)])])],2),Object(n["createElementVNode"])("div",We,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])([e.data.logo_class,"menu-block-icon fa-2x"])},null,2)])])],42,Pe)}var Ze=Object(n["defineComponent"])({name:"MenuBlockComponent",props:{id:Number,blockId:String,data:Object},computed:{blockTypeClass:function(){var e="";switch(this.data.block_type){case"ACT":e="bg-primary";break;case"TRG":e="bg-secondary";break;case"LOG":e="bg-info";break;default:}return e}},methods:{drag:function(e){e.dataTransfer.setData("node",e.target.getAttribute("data-node")),e.dataTransfer.setData("data",JSON.stringify(this.data))}}}),Qe=(a("d293"),a("dd80"),a("6b0d")),Xe=a.n(Qe);const et=Xe()(Ze,[["render",Ye]]);var tt=et,at={class:"placeholder"},nt={class:"av__placeholder"},ot={class:"h4__placeholder"},lt={class:"p__placeholder"},ct={class:"p__placeholder"};function rt(e,t){var a=Object(n["resolveComponent"])("Skeletor");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",at,[Object(n["createElementVNode"])("div",nt,[Object(n["createVNode"])(a,{circle:"",size:"48"})]),Object(n["createElementVNode"])("h4",ot,[Object(n["createVNode"])(a,{height:"22"})]),Object(n["createElementVNode"])("p",lt,[Object(n["createVNode"])(a,{height:"16"})]),Object(n["createElementVNode"])("p",ct,[Object(n["createVNode"])(a,{height:"16"})])])}var it=a("df33"),ut={name:"MenuBlockPlaceholderComponent",components:{Skeletor:it["a"]}};a("3b5b");const st=Xe()(ut,[["render",rt]]);var dt=st,bt=a("94c2"),pt=[],vt=Object(n["defineComponent"])({name:"BlocksMenuComponent",props:{blocks:Object,show:Boolean},components:{MenuBlock:tt,MenuBlockPlaceHolder:dt},watch:{blocks:{handler:function(e){this.assignBlocks(e),this.isLoadingData=!1}}},data:function(){return{items:pt,isLoadingData:!1,filter:"",filteredItems:pt,processedItems:pt,searchKey:"",sideBarCollapsed:!1}},created:function(){var e=this;this.blocks?this.assignBlocks(this.blocks):this.isLoadingData=!0,bt["a"].emitter.on("sidebar-toggle-sidebar",(function(t){e.sideBarCollapsed=t}))},methods:{assignBlocks:function(e){this.items=e,this.filteredItems=e,this.processedItems=e},numberOfType:function(e){var t=this,a=this.searchKey?this.items.filter((function(e){return e.name.toUpperCase().indexOf(t.searchKey.toUpperCase())>-1})):this.items,n=a.filter((function(t){return e===t.block_type}));return Object.keys(n).length},setSearchKey:function(e){this.searchKey=e,this.searchBlock()},updateData:function(e){this.items=e,this.filteredItems=e,this.isLoadingData=!1},searchBlock:function(){var e=this,t=this.filteredItems.filter((function(t){return t.name.toUpperCase().indexOf(e.searchKey.toUpperCase())>-1}));this.processedItems=t},addFilter:function(e){var t=this;this.filter=this.filter===e?"":e;var a=this.items.filter((function(e){return t.filter===e.block_type}));this.filteredItems=""!==this.filter?a:this.items,this.processedItems=this.filteredItems,this.searchKey&&this.searchBlock()}}});a("fe41");const ft=Xe()(vt,[["render",qe]]);var mt=ft,Ot=a("5502"),ht=a("f1e8"),gt=a("ac15"),jt=a("f8d5"),yt=a("8fba"),kt=a("ec26"),Dt=a("25a0"),Bt=a("e3e1");function Ct(e){return-1!==[null,void 0,!1].indexOf(e)}function Nt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ft(e,t,a){var o=Object(n["toRefs"])(e),l=o.options,c=o.mode,r=o.trackBy,i=o.limit,u=o.hideSelected,s=o.createTag,d=o.createOption,b=o.label,p=o.appendNewTag,v=o.appendNewOption,f=o.multipleLabel,m=o.object,O=o.loading,h=o.delay,g=o.resolveOnLoad,j=o.minChars,y=o.filterResults,k=o.clearOnSearch,D=o.clearOnSelect,B=o.valueProp,C=o.canDeselect,N=o.max,V=o.strict,E=o.closeOnSelect,S=o.groups,w=(o.groupLabel,o.groupOptions),F=o.groupHideEmpty,L=o.groupSelect,T=a.iv,x=a.ev,A=a.search,q=a.clearSearch,P=a.update,_=a.pointer,$=a.clearPointer,I=a.blur,R=a.focus,M=a.deactivate,H=Object(n["ref"])([]),U=Object(n["ref"])([]),K=Object(n["ref"])(!1),G=Object(n["computed"])((function(){return s.value||d.value||!1})),z=Object(n["computed"])((function(){return void 0!==p.value?p.value:void 0===v.value||v.value})),J=Object(n["computed"])((function(){if(S.value){var e=U.value||[],t=[];return e.forEach((function(e){ke(e[w.value]).forEach((function(a){t.push(Object.assign({},a,e.disabled?{disabled:!0}:{}))}))})),t}var a=ke(U.value||[]);return H.value.length&&(a=a.concat(H.value)),a})),W=Object(n["computed"])((function(){return S.value?je((U.value||[]).map((function(e){var t,a=ke(e[w.value]);return St(St({},e),{},(wt(t={group:!0},w.value,ye(a,!1).map((function(t){return Object.assign({},t,e.disabled?{disabled:!0}:{})}))),wt(t,"__VISIBLE__",ye(a).map((function(t){return Object.assign({},t,e.disabled?{disabled:!0}:{})}))),t))}))):[]})),Y=Object(n["computed"])((function(){var e=J.value;return te.value.length&&(e=te.value.concat(e)),e=ye(e),i.value>0&&(e=e.slice(0,i.value)),e})),Z=Object(n["computed"])((function(){switch(c.value){case"single":return!Ct(T.value[B.value]);case"multiple":case"tags":return!Ct(T.value)&&T.value.length>0}})),Q=Object(n["computed"])((function(){return void 0!==f&&void 0!==f.value?f.value(T.value):T.value&&T.value.length>1?"".concat(T.value.length," options selected"):"1 option selected"})),X=Object(n["computed"])((function(){return!J.value.length&&!K.value&&!te.value.length})),ee=Object(n["computed"])((function(){return J.value.length>0&&0==Y.value.length&&(A.value&&S.value||!S.value)})),te=Object(n["computed"])((function(){var e;return!1!==G.value&&A.value?-1!==Oe(A.value)?[]:[(e={},wt(e,B.value,A.value),wt(e,b.value,A.value),wt(e,ae.value,A.value),e)]:[]})),ae=Object(n["computed"])((function(){return r.value||b.value})),ne=Object(n["computed"])((function(){switch(c.value){case"single":return null;case"multiple":case"tags":return[]}})),oe=Object(n["computed"])((function(){return O.value||K.value})),le=function(e){switch("object"!==Vt(e)&&(e=me(e)),c.value){case"single":P(e);break;case"multiple":case"tags":P(T.value.concat(e))}t.emit("select",re(e),e)},ce=function(e){switch("object"!==Vt(e)&&(e=me(e)),c.value){case"single":ue();break;case"tags":case"multiple":P(Array.isArray(e)?T.value.filter((function(t){return-1===e.map((function(e){return e[B.value]})).indexOf(t[B.value])})):T.value.filter((function(t){return t[B.value]!=e[B.value]})))}t.emit("deselect",re(e),e)},re=function(e){return m.value?e:e[B.value]},ie=function(e){ce(e)},ue=function(){t.emit("clear"),P(ne.value)},se=function(e){if(void 0!==e.group)return"single"!==c.value&&fe(e[w.value])&&e[w.value].length;switch(c.value){case"single":return!Ct(T.value)&&T.value[B.value]==e[B.value];case"tags":case"multiple":return!Ct(T.value)&&-1!==T.value.map((function(e){return e[B.value]})).indexOf(e[B.value])}},de=function(e){return!0===e.disabled},be=function(){return!(void 0===N||-1===N.value||!Z.value&&N.value>0)&&T.value.length>=N.value},pe=function(e){void 0===me(e[B.value])&&G.value&&(t.emit("tag",e[B.value]),t.emit("option",e[B.value]),z.value&&ge(e),q())},ve=function(e){return void 0===e.find((function(e){return!se(e)&&!e.disabled}))},fe=function(e){return void 0===e.find((function(e){return!se(e)}))},me=function(e){return J.value[J.value.map((function(e){return String(e[B.value])})).indexOf(String(e))]},Oe=function(e){return J.value.map((function(e){return e[ae.value]})).indexOf(e)},he=function(e){return-1!==["tags","multiple"].indexOf(c.value)&&u.value&&se(e)},ge=function(e){H.value.push(e)},je=function(e){return F.value?e.filter((function(e){return A.value?e.__VISIBLE__.length:e[w.value].length})):e.filter((function(e){return!A.value||e.__VISIBLE__.length}))},ye=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e;return A.value&&y.value&&(a=a.filter((function(e){return-1!==Nt(e[ae.value],V.value).indexOf(Nt(A.value,V.value))}))),u.value&&t&&(a=a.filter((function(e){return!he(e)}))),a},ke=function(e){var t,a=e;return t=a,"[object Object]"===Object.prototype.toString.call(t)&&(a=Object.keys(a).map((function(e){var t,n=a[e];return wt(t={},B.value,e),wt(t,ae.value,n),wt(t,b.value,n),t}))),a=a.map((function(e){var t;return"object"===Vt(e)?e:(wt(t={},B.value,e),wt(t,ae.value,e),wt(t,b.value,e),t)}))},De=function(){Ct(x.value)||(T.value=Ce(x.value))},Be=function(e){K.value=!0,l.value(A.value).then((function(t){U.value=t,"function"==typeof e&&e(t),K.value=!1}))},Ce=function(e){return Ct(e)?"single"===c.value?{}:[]:m.value?e:"single"===c.value?me(e)||{}:e.filter((function(e){return!!me(e)})).map((function(e){return me(e)}))};if("single"!==c.value&&!Ct(x.value)&&!Array.isArray(x.value))throw new Error('v-model must be an array when using "'.concat(c.value,'" mode'));return l&&"function"==typeof l.value?g.value?Be(De):1==m.value&&De():(U.value=l.value,De()),h.value>-1&&Object(n["watch"])(A,(function(e){e.length<j.value||(K.value=!0,k.value&&(U.value=[]),setTimeout((function(){e==A.value&&l.value(A.value).then((function(t){e!=A.value&&A.value||(U.value=t,_.value=Y.value.filter((function(e){return!0!==e.disabled}))[0]||null,K.value=!1)}))}),h.value))}),{flush:"sync"}),Object(n["watch"])(x,(function(e){var t,a,n;if(Ct(e))T.value=Ce(e);else switch(c.value){case"single":(m.value?e[B.value]!=T.value[B.value]:e!=T.value[B.value])&&(T.value=Ce(e));break;case"multiple":case"tags":t=m.value?e.map((function(e){return e[B.value]})):e,a=T.value.map((function(e){return e[B.value]})),n=a.slice().sort(),t.length===a.length&&t.slice().sort().every((function(e,t){return e===n[t]}))||(T.value=Ce(e))}}),{deep:!0}),"function"!=typeof e.options&&Object(n["watch"])(l,(function(t,a){U.value=e.options,Object.keys(T.value).length||De(),function(){if(Z.value)if("single"===c.value){var e=me(T.value[B.value])[b.value];T.value[b.value]=e,m.value&&(x.value[b.value]=e)}else T.value.forEach((function(e,t){var a=me(T.value[t][B.value])[b.value];T.value[t][b.value]=a,m.value&&(x.value[t][b.value]=a)}))}()})),{fo:Y,filteredOptions:Y,hasSelected:Z,multipleLabelText:Q,eo:J,extendedOptions:J,fg:W,filteredGroups:W,noOptions:X,noResults:ee,resolving:K,busy:oe,select:le,deselect:ce,remove:ie,selectAll:function(){"single"!==c.value&&le(Y.value)},clear:ue,isSelected:se,isDisabled:de,isMax:be,getOption:me,handleOptionClick:function(e){if(!de(e)){switch(c.value){case"single":if(se(e))return void(C.value&&ce(e));pe(e),I(),le(e);break;case"multiple":if(se(e))return void ce(e);if(be())return;pe(e),le(e),D.value&&q(),u.value&&$(),E.value&&I();break;case"tags":if(se(e))return void ce(e);if(be())return;pe(e),D.value&&q(),le(e),u.value&&$(),E.value&&I()}E.value?M():R()}},handleGroupClick:function(e){if(!de(e)&&"single"!==c.value&&L.value){switch(c.value){case"multiple":case"tags":ve(e[w.value])?ce(e[w.value]):le(e[w.value].filter((function(e){return-1===T.value.map((function(e){return e[B.value]})).indexOf(e[B.value])})).filter((function(e){return!e.disabled})).filter((function(e,t){return T.value.length+1+t<=N.value||-1===N.value})))}E.value&&M()}},handleTagRemove:function(e,t){0===t.button?ie(e):t.preventDefault()},refreshOptions:function(e){Be(e)},resolveOptions:Be}}function Lt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function xt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?At(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _t(e,t,a){var o=Object(n["toRefs"])(e),l=o.classes,c=o.disabled,r=o.openDirection,i=o.showOptions,u=a.isOpen,s=a.isPointed,d=a.isSelected,b=a.isDisabled,p=a.isActive,v=a.canPointGroups,f=a.resolving,m=a.fo,O=Object(n["computed"])((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(a),!0).forEach((function(t){Pt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},l.value)})),h=Object(n["computed"])((function(){return!!(u.value&&i.value&&(!f.value||f.value&&m.value.length))}));return{classList:Object(n["computed"])((function(){var e=O.value;return{container:[e.container].concat(c.value?e.containerDisabled:[]).concat(h.value&&"top"===r.value?e.containerOpenTop:[]).concat(h.value&&"top"!==r.value?e.containerOpen:[]).concat(p.value?e.containerActive:[]),spacer:e.spacer,singleLabel:e.singleLabel,singleLabelText:e.singleLabelText,multipleLabel:e.multipleLabel,search:e.search,tags:e.tags,tag:[e.tag].concat(c.value?e.tagDisabled:[]),tagRemove:e.tagRemove,tagRemoveIcon:e.tagRemoveIcon,tagsSearchWrapper:e.tagsSearchWrapper,tagsSearch:e.tagsSearch,tagsSearchCopy:e.tagsSearchCopy,placeholder:e.placeholder,caret:[e.caret].concat(u.value?e.caretOpen:[]),clear:e.clear,clearIcon:e.clearIcon,spinner:e.spinner,dropdown:[e.dropdown].concat("top"===r.value?e.dropdownTop:[]).concat(u.value&&i.value&&h.value?[]:e.dropdownHidden),options:[e.options].concat("top"===r.value?e.optionsTop:[]),group:e.group,groupLabel:function(t){var a=[e.groupLabel];return s(t)?a.push(d(t)?e.groupLabelSelectedPointed:e.groupLabelPointed):d(t)&&v.value?a.push(b(t)?e.groupLabelSelectedDisabled:e.groupLabelSelected):b(t)&&a.push(e.groupLabelDisabled),v.value&&a.push(e.groupLabelPointable),a},groupOptions:e.groupOptions,option:function(t,a){var n=[e.option];return s(t)?n.push(d(t)?e.optionSelectedPointed:e.optionPointed):d(t)?n.push(b(t)?e.optionSelectedDisabled:e.optionSelected):(b(t)||a&&b(a))&&n.push(e.optionDisabled),n},noOptions:e.noOptions,noResults:e.noResults,fakeInput:e.fakeInput}})),showDropdown:h}}var $t={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"}},setup(e,t){const a=function(e,t){var a=Object(n["toRefs"])(e),o=a.value,l=a.modelValue,c=a.mode,r=a.valueProp,i=Object(n["ref"])("single"!==c.value?[]:{}),u=void 0!==t.expose?l:o,s=Object(n["computed"])((function(){return"single"===c.value?i.value[r.value]:i.value.map((function(e){return e[r.value]}))})),d=Object(n["computed"])((function(){return"single"!==c.value?i.value.map((function(e){return e[r.value]})).join(","):i.value[r.value]}));return{iv:i,internalValue:i,ev:u,externalValue:u,textValue:d,plainValue:s}}(e,t),o=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.groupSelect,c=o.mode,r=o.groups,i=Object(n["ref"])(null),u=function(e){void 0===e||null!==e&&e.disabled||r.value&&e&&e.group&&("single"===c.value||!l.value)||(i.value=e)};return{pointer:i,setPointer:u,clearPointer:function(){u(null)}}}(e),l=function(e,t,a){var o=Object(n["toRefs"])(e).disabled,l=Object(n["ref"])(!1);return{isOpen:l,open:function(){l.value||o.value||(l.value=!0,t.emit("open"))},close:function(){l.value&&(l.value=!1,t.emit("close"))}}}(e,t),c=function(e,t,a){var o=Object(n["ref"])(null),l=Object(n["ref"])(null);return Object(n["watch"])(o,(function(e){t.emit("search-change",e)})),{search:o,input:l,clearSearch:function(){o.value=""},handleSearchInput:function(e){o.value=e.target.value},handlePaste:function(e){t.emit("paste",e)}}}(0,t),r=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.object,c=o.valueProp,r=o.mode,i=a.iv,u=function(e){return l.value||Ct(e)?e:Array.isArray(e)?e.map((function(e){return e[c.value]})):e[c.value]},s=function(e){return Ct(e)?"single"===r.value?{}:[]:e};return{update:function(e){i.value=s(e);var a=u(e);t.emit("change",a),t.emit("input",a),t.emit("update:modelValue",a)}}}(e,t,{iv:a.iv}),i=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.searchable,c=o.disabled,r=a.input,i=a.open,u=a.close,s=a.clearSearch,d=Object(n["ref"])(null),b=Object(n["ref"])(!1),p=Object(n["computed"])((function(){return l.value||c.value?-1:0})),v=function(){l.value&&r.value.blur(),d.value.blur()},f=function(){l.value&&!c.value&&r.value.focus()},m=function(){b.value=!1,setTimeout((function(){b.value||(u(),s())}),1)};return{multiselect:d,tabindex:p,isActive:b,blur:v,focus:f,handleFocus:function(){f()},activate:function(){c.value||(b.value=!0,i())},deactivate:m,handleCaretClick:function(){m(),v()}}}(e,0,{input:c.input,open:l.open,close:l.close,clearSearch:c.clearSearch}),u=Ft(e,t,{ev:a.ev,iv:a.iv,search:c.search,clearSearch:c.clearSearch,update:r.update,pointer:o.pointer,clearPointer:o.clearPointer,blur:i.blur,focus:i.focus,deactivate:i.deactivate}),s=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.valueProp,c=o.showOptions,r=o.searchable,i=o.groupLabel,u=o.groups,s=o.mode,d=o.groupSelect,b=a.fo,p=a.fg,v=a.handleOptionClick,f=a.handleGroupClick,m=a.search,O=a.pointer,h=a.setPointer,g=a.clearPointer,j=a.multiselect,y=Object(n["computed"])((function(){return b.value.filter((function(e){return!e.disabled}))})),k=Object(n["computed"])((function(){return p.value.filter((function(e){return!e.disabled}))})),D=Object(n["computed"])((function(){return"single"!==s.value&&d.value})),B=Object(n["computed"])((function(){return O.value&&O.value.group})),C=Object(n["computed"])((function(){return A(O.value)})),N=Object(n["computed"])((function(){var e=B.value?O.value:A(O.value),t=k.value.map((function(e){return e[i.value]})).indexOf(e[i.value]),a=k.value[t-1];return void 0===a&&(a=E.value),a})),V=Object(n["computed"])((function(){var e=k.value.map((function(e){return e.label})).indexOf(B.value?O.value[i.value]:A(O.value)[i.value])+1;return k.value.length<=e&&(e=0),k.value[e]})),E=Object(n["computed"])((function(){return Lt(k.value).slice(-1)[0]})),S=Object(n["computed"])((function(){return O.value.__VISIBLE__.filter((function(e){return!e.disabled}))[0]})),w=Object(n["computed"])((function(){var e=C.value.__VISIBLE__.filter((function(e){return!e.disabled}));return e[e.map((function(e){return e[l.value]})).indexOf(O.value[l.value])-1]})),F=Object(n["computed"])((function(){var e=A(O.value).__VISIBLE__.filter((function(e){return!e.disabled}));return e[e.map((function(e){return e[l.value]})).indexOf(O.value[l.value])+1]})),L=Object(n["computed"])((function(){return Lt(N.value.__VISIBLE__.filter((function(e){return!e.disabled}))).slice(-1)[0]})),T=Object(n["computed"])((function(){return Lt(E.value.__VISIBLE__.filter((function(e){return!e.disabled}))).slice(-1)[0]})),x=function(){h(y.value[0]||null)},A=function(e){return k.value.find((function(t){return-1!==t.__VISIBLE__.map((function(e){return e[l.value]})).indexOf(e[l.value])}))},q=function(){var e=j.value.querySelector("[data-pointed]");if(e){var t=e.parentElement.parentElement;u.value&&(t=B.value?e.parentElement.parentElement.parentElement:e.parentElement.parentElement.parentElement.parentElement),e.offsetTop+e.offsetHeight>t.clientHeight+t.scrollTop&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.clientHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)}};return Object(n["watch"])(m,(function(e){r.value&&(e.length&&c.value?x():g())})),{pointer:O,canPointGroups:D,isPointed:function(e){return!(!O.value||!(!e.group&&O.value[l.value]==e[l.value]||void 0!==e.group&&O.value[i.value]==e[i.value]))||void 0},setPointerFirst:x,selectPointer:function(){O.value&&!0!==O.value.disabled&&(B.value?f(O.value):v(O.value))},forwardPointer:function(){if(null===O.value)h((u.value&&D.value?k.value[0]:y.value[0])||null);else if(u.value&&D.value){var e=B.value?S.value:F.value;void 0===e&&(e=V.value),h(e||null)}else{var t=y.value.map((function(e){return e[l.value]})).indexOf(O.value[l.value])+1;y.value.length<=t&&(t=0),h(y.value[t]||null)}Object(n["nextTick"])((function(){q()}))},backwardPointer:function(){if(null===O.value){var e=y.value[y.value.length-1];u.value&&D.value&&void 0===(e=T.value)&&(e=E.value),h(e||null)}else if(u.value&&D.value){var t=B.value?L.value:w.value;void 0===t&&(t=B.value?N.value:C.value),h(t||null)}else{var a=y.value.map((function(e){return e[l.value]})).indexOf(O.value[l.value])-1;a<0&&(a=y.value.length-1),h(y.value[a]||null)}Object(n["nextTick"])((function(){q()}))}}}(e,0,{fo:u.fo,fg:u.fg,handleOptionClick:u.handleOptionClick,handleGroupClick:u.handleGroupClick,search:c.search,pointer:o.pointer,setPointer:o.setPointer,clearPointer:o.clearPointer,multiselect:i.multiselect}),d=function(e,t,a){var o=Object(n["toRefs"])(e),l=o.mode,c=o.addTagOn,r=o.openDirection,i=o.searchable,u=o.showOptions,s=o.valueProp,d=o.groups,b=o.addOptionOn,p=o.createTag,v=o.createOption,f=a.iv,m=a.update,O=a.search,h=a.setPointer,g=a.selectPointer,j=a.backwardPointer,y=a.forwardPointer,k=a.blur,D=a.fo,B=Object(n["computed"])((function(){return p.value||v.value||!1})),C=Object(n["computed"])((function(){return void 0!==c.value?c.value:void 0!==b.value?b.value:["enter"]})),N=function(){"tags"===l.value&&!u.value&&B.value&&i.value&&!d.value&&h(D.value[D.value.map((function(e){return e[s.value]})).indexOf(O.value)])};return{handleKeydown:function(e){switch(e.key){case"Backspace":if("single"===l.value)return;if(i.value&&-1===[null,""].indexOf(O.value))return;if(0===f.value.length)return;m(xt(f.value).slice(0,-1));break;case"Enter":if(e.preventDefault(),-1===C.value.indexOf("enter")&&B.value)return;N(),g();break;case" ":if(!B.value&&!i.value)return e.preventDefault(),N(),void g();if(!B.value)return!1;if(-1===C.value.indexOf("space")&&B.value)return;e.preventDefault(),N(),g();break;case"Tab":case";":case",":if(-1===C.value.indexOf(e.key.toLowerCase())||!B.value)return;N(),g(),e.preventDefault();break;case"Escape":k();break;case"ArrowUp":if(e.preventDefault(),!u.value)return;"top"===r.value?y():j();break;case"ArrowDown":if(e.preventDefault(),!u.value)return;"top"===r.value?j():y()}},preparePointer:N}}(e,0,{iv:a.iv,update:r.update,search:c.search,setPointer:o.setPointer,selectPointer:s.selectPointer,backwardPointer:s.backwardPointer,forwardPointer:s.forwardPointer,blur:i.blur,fo:u.fo}),b=_t(e,0,{isOpen:l.isOpen,isPointed:s.isPointed,canPointGroups:s.canPointGroups,isSelected:u.isSelected,isDisabled:u.isDisabled,isActive:i.isActive,resolving:u.resolving,fo:u.fo});return{...a,...l,...i,...o,...r,...c,...u,...s,...d,...b}},render:function(e,t,a,o,l,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{ref:"multiselect",tabindex:e.tabindex,class:e.classList.container,id:a.id,onFocusin:t[7]||(t[7]=(...t)=>e.activate&&e.activate(...t)),onFocusout:t[8]||(t[8]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:t[9]||(t[9]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onFocus:t[10]||(t[10]=(...t)=>e.handleFocus&&e.handleFocus(...t))},[Object(n["createCommentVNode"])(" Search "),"tags"!==a.mode&&a.searchable&&!a.disabled?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,onInput:t[1]||(t[1]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:t[2]||(t[2]=Object(n["withModifiers"])((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Tags (with search) "),"tags"==a.mode?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:1,class:e.classList.tags},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.iv,(t,o,l)=>Object(n["renderSlot"])(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(Object(n["openBlock"])(),Object(n["createBlock"])("span",{class:e.classList.tag,key:l},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t[a.label])+" ",1),a.disabled?Object(n["createCommentVNode"])("v-if",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("span",{key:0,class:e.classList.tagRemove,onClick:a=>e.handleTagRemove(t,a)},[Object(n["createVNode"])("span",{class:e.classList.tagRemoveIcon},null,2)],10,["onClick"]))],2))])),256)),Object(n["createVNode"])("div",{class:e.classList.tagsSearchWrapper},[Object(n["createCommentVNode"])(" Used for measuring search width "),Object(n["createVNode"])("span",{class:e.classList.tagsSearchCopy},Object(n["toDisplayString"])(e.search),3),Object(n["createCommentVNode"])(" Actual search input "),a.searchable&&!a.disabled?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,autocomplete:a.autocomplete,onInput:t[3]||(t[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onPaste:t[4]||(t[4]=Object(n["withModifiers"])((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input"},null,42,["type","modelValue","value","autocomplete"])):Object(n["createCommentVNode"])("v-if",!0)],2)],2)):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Single label "),"single"==a.mode&&e.hasSelected&&!e.search&&e.iv?Object(n["renderSlot"])(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[Object(n["createVNode"])("div",{class:e.classList.singleLabel},[Object(n["createVNode"])("span",{class:e.classList.singleLabelText},Object(n["toDisplayString"])(e.iv[a.label]),3)],2)]):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Multiple label "),"multiple"==a.mode&&e.hasSelected&&!e.search?Object(n["renderSlot"])(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[Object(n["createVNode"])("div",{class:e.classList.multipleLabel},Object(n["toDisplayString"])(e.multipleLabelText),3)]):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Placeholder "),!a.placeholder||e.hasSelected||e.search?Object(n["createCommentVNode"])("v-if",!0):Object(n["renderSlot"])(e.$slots,"placeholder",{key:4},()=>[Object(n["createVNode"])("div",{class:e.classList.placeholder},Object(n["toDisplayString"])(a.placeholder),3)]),Object(n["createCommentVNode"])(" Spinner "),e.busy&&e.isActive?Object(n["renderSlot"])(e.$slots,"spinner",{key:5},()=>[Object(n["createVNode"])("span",{class:e.classList.spinner},null,2)]):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?Object(n["renderSlot"])(e.$slots,"clear",{key:6,clear:e.clear},()=>[Object(n["createVNode"])("span",{class:e.classList.clear,onMousedown:t[5]||(t[5]=(...t)=>e.clear&&e.clear(...t))},[Object(n["createVNode"])("span",{class:e.classList.clearIcon},null,2)],34)]):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Caret "),a.caret&&a.showOptions?Object(n["renderSlot"])(e.$slots,"caret",{key:7},()=>[Object(n["createVNode"])("span",{class:e.classList.caret,onClick:t[6]||(t[6]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t))},null,2)]):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Options "),Object(n["createVNode"])("div",{class:e.classList.dropdown,tabindex:"-1"},[Object(n["renderSlot"])(e.$slots,"beforelist",{options:e.fo}),Object(n["createVNode"])("ul",{class:e.classList.options},[a.groups?(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(e.fg,(t,o,l)=>(Object(n["openBlock"])(),Object(n["createBlock"])("li",{class:e.classList.group,key:l},[Object(n["createVNode"])("div",{class:e.classList.groupLabel(t),"data-pointed":e.isPointed(t),onMouseenter:a=>e.setPointer(t),onClick:a=>e.handleGroupClick(t)},[Object(n["renderSlot"])(e.$slots,"grouplabel",{group:t},()=>[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t[a.groupLabel]),1)])],42,["data-pointed","onMouseenter","onClick"]),Object(n["createVNode"])("ul",{class:e.classList.groupOptions},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.__VISIBLE__,(o,l,c)=>(Object(n["openBlock"])(),Object(n["createBlock"])("li",{class:e.classList.option(o,t),key:c,"data-pointed":e.isPointed(o),onMouseenter:t=>e.setPointer(o),onClick:t=>e.handleOptionClick(o)},[Object(n["renderSlot"])(e.$slots,"option",{option:o,search:e.search},()=>[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o[a.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2)],2))),128)):(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(e.fo,(t,o,l)=>(Object(n["openBlock"])(),Object(n["createBlock"])("li",{class:e.classList.option(t),key:l,"data-pointed":e.isPointed(t),onMouseenter:a=>e.setPointer(t),onClick:a=>e.handleOptionClick(t)},[Object(n["renderSlot"])(e.$slots,"option",{option:t,search:e.search},()=>[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t[a.label]),1)])],42,["data-pointed","onMouseenter","onClick"]))),128))],2),e.noOptions?Object(n["renderSlot"])(e.$slots,"nooptions",{key:0},()=>[Object(n["createVNode"])("div",{class:e.classList.noOptions,innerHTML:a.noOptionsText},null,10,["innerHTML"])]):Object(n["createCommentVNode"])("v-if",!0),e.noResults?Object(n["renderSlot"])(e.$slots,"noresults",{key:1},()=>[Object(n["createVNode"])("div",{class:e.classList.noResults,innerHTML:a.noResultsText},null,10,["innerHTML"])]):Object(n["createCommentVNode"])("v-if",!0),Object(n["renderSlot"])(e.$slots,"afterlist",{options:e.fo})],2),Object(n["createCommentVNode"])(" Hacky input element to show HTML5 required warning "),a.required?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:8,class:e.classList.fakeInput,tabindex:"-1",value:e.textValue,required:""},null,10,["value"])):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Native input support "),a.nativeSupport?(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],{key:9},["single"==a.mode?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:0,type:"hidden",name:a.name,value:void 0!==e.plainValue?e.plainValue:""},null,8,["name","value"])):(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(e.plainValue,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])("input",{type:"hidden",name:a.name+"[]",value:e,key:t},null,8,["name","value"]))),128))],64)):Object(n["createCommentVNode"])("v-if",!0),Object(n["createCommentVNode"])(" Create height for empty input "),Object(n["createVNode"])("div",{class:e.classList.spacer},null,2)],42,["tabindex","id"])},__file:"src/Multiselect.vue"},It=$t,Rt=a("2dad"),Mt=(a("4238"),a("fe26"),a("514a"),"Untitled Boto"),Ht=Object(n["defineComponent"])({name:"Editor",setup:function(){return{v$:Object(Dt["a"])(),context:"/boto-demo/"}},computed:Object(Z["a"])(Object(Z["a"])({},Object(Ot["d"])("editor",["template"])),Object(Ot["d"])("auth",["authToken"])),data:function(){return{open:!1,blocks:null,fullPage:!0,bot:null,isLoading:!0,activationShow:!1,activationLoading:!1,saveError:!1,saveSuccess:!1,saveLoading:!1,isEditingName:!1,isFlowValid:!0,botNameValidation:!0,usesTemplate:!1,editorAreaHeight:0,showingToast:!1,dfKey:Object(kt["a"])(),toolsCollapsed:!1,botFrequencyUnit:"MIN",triggerType:"SCH",scheduleOptions:[{label:this.$t("global.minutes"),value:"MIN"},{label:this.$t("global.hours"),value:"HR"},{label:this.$t("global.days"),value:"DAY"}],calcBotFrequency:10,botName:Mt,preSaveBotName:"",botFrequency:10,myIframe:null}},components:{AdminLayout:X["a"],Loading:ee["a"],DrawFlow:Q["a"],BlocksMenu:mt,BotoModal:yt["a"],Multiselect:It,Toggle:Rt["a"]},beforeUnmount:function(){this.bot=null},validations:function(){return{botName:{required:Bt["e"],minLength:Object(Bt["c"])(5),maxLength:Object(Bt["a"])(80)}}},methods:Object(Z["a"])(Object(Z["a"])({},Object(Ot["c"])("editor",["removeTemplateLocalStorage"])),{updateScheduleOptions:function(){this.scheduleOptions=[{label:this.$t("global.minutes"),value:"MIN"},{label:this.$t("global.hours"),value:"HR"},{label:this.$t("global.days"),value:"DAY"}]},validationStatusCheck:function(){this.botNameValidation=!this.v$.$invalid},showToast:function(e,t){this.$toast.open({message:t,type:e,duration:5e3,dismissible:!0,position:"top-right"})},cleanSave:function(){var e=this;setTimeout((function(){e.saveLoading=!1,e.saveSuccess=!1,e.saveError=!1}),3e3)},clearBot:function(){this.bot=null,this.botName=Mt,this.removeTemplateLocalStorage(),this.$refs["drawflowEditor"].clearBot();var e=Object(kt["a"])();window.location.href=this.context+"editor?"+e},editBotName:function(){this.preSaveBotName=this.botName,this.isEditingName=!0},cancelPreSaveBotName:function(){this.botName=this.preSaveBotName,this.isEditingName=!1},savePreSaveBotName:function(){this.botNameValidation&&(this.isEditingName=!1)},cancelActivateBot:function(){this.activationShow=!1},activateBot:function(){var e,t,a,n,o;return Object(Z["b"])(this,void 0,void 0,(function(){var l;return Object(Z["c"])(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this.activationLoading=!0,[4,this.switchBoto("ON")];case 1:return c.sent(),ht["a"].push({name:"home.botos",params:{botId:null===(e=this.bot)||void 0===e?void 0:e.id,botName:null===(t=this.bot)||void 0===t?void 0:t.name,botFrequency:null===(a=this.bot)||void 0===a?void 0:a.frequency,botSchedule:null===(n=this.bot)||void 0===n?void 0:n.schedule,botFrequencyUnit:null===(o=this.bot)||void 0===o?void 0:o.frequency_unit}}),[3,3];case 2:return l=c.sent(),console.error(l),this.showToast("error",jt["a"].getTextError(l)),this.activationLoading=!1,[3,3];case 3:return this.activationShow=!1,[2]}}))}))},toggleTools:function(){this.toolsCollapsed=!this.toolsCollapsed},saveBot:function(){var e,t,a;return Object(Z["b"])(this,void 0,void 0,(function(){var n,o,l,c,r,i,u,s,d,b;return Object(Z["c"])(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),this.isFlowValid?(this.saveLoading=!0,this.saveSuccess=!1,this.saveError=!1,n=this.$refs["drawflowEditor"].export(),o=this.triggerType,l={name:this.botName,json:n.json,schedule:o},(null===(e=this.bot)||void 0===e?void 0:e.clone_of)&&(l.clone_of=null===(t=this.bot)||void 0===t?void 0:t.clone_of),"SCH"===o&&(l["frequency"]=this.calcBotFrequency,l["frequency_unit"]=this.botFrequencyUnit),c=this.bot&&!this.usesTemplate?gt["a"].PUT:gt["a"].POST,r="https://api.boto.io/api/bots/",this.bot&&!this.usesTemplate&&(r=""+r+(null===(a=this.bot)||void 0===a?void 0:a.id)+"/"),i=!this.bot||this.bot&&this.usesTemplate?this.$t("global.created"):this.$t("global.updated"),u=this.$t("editor.saved_message",{action:i}),[4,jt["a"].request(r,this.authToken,c,JSON.stringify(l))]):[3,2];case 1:s=p.sent(),this.showToast("success",u),this.removeTemplateLocalStorage(),this.usesTemplate=!1,this.bot=s,this.saveLoading=!1,this.saveSuccess=!0,this.cleanSave(),d=this.$route.params.id,d||this.$router.push({name:"home.editor",params:{id:s.id}}),p.label=2;case 2:return[3,4];case 3:return b=p.sent(),this.showToast("error",jt["a"].getTextError(b)),this.activationLoading=!1,this.saveLoading=!1,this.saveSuccess=!1,this.saveError=!0,console.error(b),this.cleanSave(),[3,4];case 4:return[2]}}))}))},activateDeactivateBoto:function(){return Object(Z["b"])(this,void 0,void 0,(function(){var e,t;return Object(Z["c"])(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.activationLoading=!0,e=this.bot.status,[4,this.switchBoto(e)];case 1:return a.sent(),this.bot&&(this.bot.status=e),t="ON"===e?this.$t("editor.switched_on"):this.$t("editor.switched_off"),this.showToast("success",this.$t("editor.switched_message_ok",{action:t})),this.activationLoading=!1,[3,3];case 2:return a.sent(),this.showToast("error",this.$t("editor.switched_message_error")),this.activationLoading=!1,[3,3];case 3:return[2]}}))}))},switchBoto:function(e){return Object(Z["b"])(this,void 0,void 0,(function(){var t,a,n,o,l,c;return Object(Z["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=new Headers,a=new FormData,n="https://api.boto.io/api/bot/"+this.bot.id+"/",a.append("name",this.bot.name),a.append("status",e),a.append("frequency",this.bot.frequency.toString()),o={method:"PUT",headers:t,body:a},t.append("Authorization","Token "+this.authToken),[4,fetch(n,o)];case 1:if(l=r.sent(),!l.ok)throw new Error(this.$t("global.generic_error",{code:l.status}));return[3,3];case 2:return c=r.sent(),this.showToast("error",jt["a"].getTextError(c)),this.activationLoading=!1,console.error(c),[3,3];case 3:return[2]}}))}))},getBlocks:function(){return Object(Z["b"])(this,void 0,void 0,(function(){return Object(Z["c"])(this,(function(e){switch(e.label){case 0:return[4,jt["a"].request("https://api.boto.io/api/my/blocks/",this.authToken,gt["a"].GET)];case 1:return[2,e.sent()]}}))}))},getBot:function(e){return Object(Z["b"])(this,void 0,void 0,(function(){return Object(Z["c"])(this,(function(t){switch(t.label){case 0:return[4,jt["a"].request("https://api.boto.io/api/bot/"+e+"/",this.authToken,gt["a"].GET)];case 1:return[2,t.sent()]}}))}))},getTemplate:function(e){return Object(Z["b"])(this,void 0,void 0,(function(){return Object(Z["c"])(this,(function(t){switch(t.label){case 0:return[4,jt["a"].request("https://api.boto.io/api/bot_template/"+e+"/",null,gt["a"].GET)];case 1:return[2,t.sent()]}}))}))},resetEventListeners:function(){bt["a"].emitter.off("editor-block-update-block-updated"),bt["a"].emitter.off("editor-valid-status"),bt["a"].emitter.off("emit-toast")},whenChange:function(){"0"===this.botFrequencyUnit&&(this.botFrequencyUnit="MIN")},calculateRealFrequency:function(){switch(this.botFrequencyUnit){case"MIN":this.calcBotFrequency=this.botFrequency;break;case"HR":this.calcBotFrequency=60*this.botFrequency;break;case"DAY":this.calcBotFrequency=24*this.botFrequency*60;break}},onFrequencyChange:function(e){this.botFrequency=e,this.calculateRealFrequency()},getDisplayFrequency:function(e,t){var a=e;switch(t){case"HR":a=e/60;break;case"DAY":a=e/24/60;break}return a},frequencyUnitChange:function(e){this.botFrequencyUnit=e,this.calculateRealFrequency()}}),created:function(){var e=this;navigator.onLine||ht["a"].push({name:"home.offline",params:{route:this.$route.fullPath}}),document.addEventListener("keydown",(function(t){t.ctrlKey&&"s"===t.key&&(t.preventDefault(),e.saveBot())})),bt["a"].emitter.on("locale-changed",(function(t){e.$i18n.locale=t,e.updateScheduleOptions()}))},mounted:function(){var e,t,a;return Object(Z["b"])(this,void 0,void 0,(function(){var n,o,l,c,r,i,u,s,d=this;return Object(Z["c"])(this,(function(b){switch(b.label){case 0:return b.trys.push([0,11,,12]),this.resetEventListeners(),n=Object(Z["a"])({},this.template),o=this,[4,this.getBlocks()];case 1:return o.blocks=b.sent(),l=this.$route.params.id,c=null===(e=this.$route.query.templateId)||void 0===e?void 0:e.toString(),r=this.$route.query.type,l?(this.removeTemplateLocalStorage(),[4,this.getBot(l.toString())]):[3,3];case 2:return i=b.sent(),this.bot=i,this.usesTemplate=!1,this.botName=i.name,this.botFrequencyUnit=i.frequency_unit||"MIN",this.calcBotFrequency=i.frequency,this.triggerType=i.schedule,this.botFrequency=this.getDisplayFrequency(i.frequency,this.botFrequencyUnit),[3,10];case 3:return c?(i=void 0,"copy"!==r?[3,5]:[4,this.getBot(c)]):[3,10];case 4:return i=b.sent(),i.name=(null===n||void 0===n?void 0:n.name)||i.name,i.id=null,i.copy=!0,[3,9];case 5:return(null===(t=null===n||void 0===n?void 0:n.clone_of)||void 0===t?void 0:t.toString())!==c?[3,6]:(u=n,[3,8]);case 6:return[4,this.getTemplate(c)];case 7:u=b.sent(),b.label=8;case 8:i=u,delete i.id,b.label=9;case 9:i.clone_of=c,this.botName=i.name||Mt,this.bot=i,this.usesTemplate=!0,(null===(a=this.bot)||void 0===a?void 0:a.copy)&&(this.showToast("success",this.$t("editor.copied_message")),delete this.bot.copy),b.label=10;case 10:return this.isFlowValid=!this.v$.$invalid,this.isLoading=!1,bt["a"].emitter.on("editor-valid-status",(function(e){d.isFlowValid=e})),bt["a"].emitter.on("editor-trigger-type",(function(e){d.triggerType=e})),bt["a"].emitter.on("emit-toast",(function(e,t){d.showToast(e,t)})),bt["a"].emitter.on("editor-block-update-block-updated",(function(e,t,a){t?d.showToast("success",d.$t("editor.block_upgrade_message",{name:a.name})):d.showToast("error",d.$t("editor.block_upgrade_error"))})),setTimeout((function(){bt["a"].emitter.emit("sidebar-toggle-sidebar",!0)}),100),[3,12];case 11:return s=b.sent(),console.error(s),this.showToast("error",jt["a"].getTextError(s)),this.isLoading=!1,[3,12];case 12:return[2]}}))}))}});a("d02e"),a("f1aa");const Ut=Xe()(Ht,[["render",Y]]);t["default"]=Ut},dd80:function(e,t,a){"use strict";a("9ba2")},f1aa:function(e,t,a){"use strict";a("cda1")},fe41:function(e,t,a){"use strict";a("6f2f")}}]);
//# sourceMappingURL=chunk-2c7660ba.4a19d50f.js.map